{
  "$schema": "http://json-schema.org/schema#",
  "type": "object",
  "properties": {
    "global": {
      "type": "object"
    },
    "namespaceOverride": {
      "type": "string"
    },
    "kubeVersion": {
      "type": "null"
    },
    "config": {
      "type": "object",
      "properties": {
        "annotations": {
          "type": "object"
        },
        "clientID": {
          "type": "string"
        },
        "clientSecret": {
          "type": "string"
        },
        "cookieSecret": {
          "type": "string"
        },
        "cookieName": {
          "type": "string"
        },
        "google": {
          "type": "object"
        },
        "configFile": {
          "type": "string"
        }
      },
      "required": [
        "annotations",
        "clientID",
        "clientSecret",
        "configFile",
        "cookieName",
        "cookieSecret",
        "google"
      ]
    },
    "alphaConfig": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "annotations": {
          "type": "object"
        },
        "serverConfigData": {
          "type": "object"
        },
        "metricsConfigData": {
          "type": "object"
        },
        "configData": {
          "type": "object"
        },
        "configFile": {
          "type": "string"
        },
        "existingConfig": {
          "type": "null"
        },
        "existingSecret": {
          "type": "null"
        }
      },
      "required": [
        "annotations",
        "configData",
        "configFile",
        "enabled",
        "existingConfig",
        "existingSecret",
        "metricsConfigData",
        "serverConfigData"
      ]
    },
    "image": {
      "type": "object",
      "properties": {
        "repository": {
          "type": "string"
        },
        "tag": {
          "type": "string"
        },
        "pullPolicy": {
          "type": "string"
        },
        "command": {
          "type": "array"
        }
      },
      "required": [
        "command",
        "pullPolicy",
        "repository",
        "tag"
      ]
    },
    "imagePullSecrets": {
      "type": "array"
    },
    "extraArgs": {
      "type": "object"
    },
    "extraEnv": {
      "type": "array"
    },
    "envFrom": {
      "type": "array"
    },
    "customLabels": {
      "type": "object"
    },
    "authenticatedEmailsFile": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "persistence": {
          "type": "string"
        },
        "template": {
          "type": "string"
        },
        "restrictedUserAccessKey": {
          "type": "string"
        },
        "restricted_access": {
          "type": "string"
        },
        "annotations": {
          "type": "object"
        }
      },
      "required": [
        "annotations",
        "enabled",
        "persistence",
        "restrictedUserAccessKey",
        "restricted_access",
        "template"
      ]
    },
    "service": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "portNumber": {
          "type": "integer"
        },
        "appProtocol": {
          "type": "string"
        },
        "annotations": {
          "type": "object"
        },
        "externalTrafficPolicy": {
          "type": "string"
        },
        "internalTrafficPolicy": {
          "type": "string"
        },
        "targetPort": {
          "type": "string"
        }
      },
      "required": [
        "annotations",
        "appProtocol",
        "externalTrafficPolicy",
        "internalTrafficPolicy",
        "portNumber",
        "targetPort",
        "type"
      ]
    },
    "serviceAccount": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "name": {
          "type": "null"
        },
        "automountServiceAccountToken": {
          "type": "boolean"
        },
        "annotations": {
          "type": "object"
        }
      },
      "required": [
        "annotations",
        "automountServiceAccountToken",
        "enabled",
        "name"
      ]
    },
    "ingress": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "path": {
          "type": "string"
        },
        "pathType": {
          "type": "string"
        },
        "labels": {
          "type": "object"
        }
      },
      "required": [
        "enabled",
        "labels",
        "path",
        "pathType"
      ]
    },
    "resources": {
      "type": "object"
    },
    "extraVolumes": {
      "type": "array"
    },
    "extraVolumeMounts": {
      "type": "array"
    },
    "extraContainers": {
      "type": "array"
    },
    "extraInitContainers": {
      "type": "array"
    },
    "priorityClassName": {
      "type": "string"
    },
    "hostAliases": {
      "type": "array"
    },
    "tolerations": {
      "type": "array"
    },
    "nodeSelector": {
      "type": "object"
    },
    "proxyVarsAsSecrets": {
      "type": "boolean"
    },
    "livenessProbe": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "initialDelaySeconds": {
          "type": "integer"
        },
        "timeoutSeconds": {
          "type": "integer"
        }
      },
      "required": [
        "enabled",
        "initialDelaySeconds",
        "timeoutSeconds"
      ]
    },
    "readinessProbe": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "initialDelaySeconds": {
          "type": "integer"
        },
        "timeoutSeconds": {
          "type": "integer"
        },
        "periodSeconds": {
          "type": "integer"
        },
        "successThreshold": {
          "type": "integer"
        }
      },
      "required": [
        "enabled",
        "initialDelaySeconds",
        "periodSeconds",
        "successThreshold",
        "timeoutSeconds"
      ]
    },
    "securityContext": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "allowPrivilegeEscalation": {
          "type": "boolean"
        },
        "capabilities": {
          "type": "object",
          "properties": {
            "drop": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "drop"
          ]
        },
        "readOnlyRootFilesystem": {
          "type": "boolean"
        },
        "runAsNonRoot": {
          "type": "boolean"
        },
        "runAsUser": {
          "type": "integer"
        },
        "runAsGroup": {
          "type": "integer"
        },
        "seccompProfile": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string"
            }
          },
          "required": [
            "type"
          ]
        }
      },
      "required": [
        "allowPrivilegeEscalation",
        "capabilities",
        "enabled",
        "readOnlyRootFilesystem",
        "runAsGroup",
        "runAsNonRoot",
        "runAsUser",
        "seccompProfile"
      ]
    },
    "deploymentAnnotations": {
      "type": "object"
    },
    "podAnnotations": {
      "type": "object"
    },
    "podLabels": {
      "type": "object"
    },
    "replicaCount": {
      "type": "integer"
    },
    "revisionHistoryLimit": {
      "type": "integer"
    },
    "strategy": {
      "type": "object"
    },
    "enableServiceLinks": {
      "type": "boolean"
    },
    "podDisruptionBudget": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "minAvailable": {
          "type": "integer"
        }
      },
      "required": [
        "enabled",
        "minAvailable"
      ]
    },
    "autoscaling": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "minReplicas": {
          "type": "integer"
        },
        "maxReplicas": {
          "type": "integer"
        },
        "targetCPUUtilizationPercentage": {
          "type": "integer"
        },
        "annotations": {
          "type": "object"
        }
      },
      "required": [
        "annotations",
        "enabled",
        "maxReplicas",
        "minReplicas",
        "targetCPUUtilizationPercentage"
      ]
    },
    "podSecurityContext": {
      "type": "object"
    },
    "httpScheme": {
      "type": "string"
    },
    "initContainers": {
      "type": "object",
      "properties": {
        "waitForRedis": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "image": {
              "type": "object",
              "properties": {
                "repository": {
                  "type": "string"
                },
                "tag": {
                  "type": "string"
                },
                "pullPolicy": {
                  "type": "string"
                }
              },
              "required": [
                "pullPolicy",
                "repository",
                "tag"
              ]
            },
            "kubectlVersion": {
              "type": "string"
            },
            "securityContext": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean"
                },
                "allowPrivilegeEscalation": {
                  "type": "boolean"
                },
                "capabilities": {
                  "type": "object",
                  "properties": {
                    "drop": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "drop"
                  ]
                },
                "readOnlyRootFilesystem": {
                  "type": "boolean"
                },
                "runAsNonRoot": {
                  "type": "boolean"
                },
                "runAsUser": {
                  "type": "integer"
                },
                "runAsGroup": {
                  "type": "integer"
                },
                "seccompProfile": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ]
                }
              },
              "required": [
                "allowPrivilegeEscalation",
                "capabilities",
                "enabled",
                "readOnlyRootFilesystem",
                "runAsGroup",
                "runAsNonRoot",
                "runAsUser",
                "seccompProfile"
              ]
            },
            "timeout": {
              "type": "integer"
            },
            "resources": {
              "type": "object"
            }
          },
          "required": [
            "enabled",
            "image",
            "kubectlVersion",
            "resources",
            "securityContext",
            "timeout"
          ]
        }
      },
      "required": [
        "waitForRedis"
      ]
    },
    "htpasswdFile": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "existingSecret": {
          "type": "string"
        },
        "entries": {
          "type": "array"
        }
      },
      "required": [
        "enabled",
        "entries",
        "existingSecret"
      ]
    },
    "sessionStorage": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "redis": {
          "type": "object",
          "properties": {
            "existingSecret": {
              "type": "string"
            },
            "password": {
              "type": "string"
            },
            "passwordKey": {
              "type": "string"
            },
            "clientType": {
              "type": "string"
            },
            "standalone": {
              "type": "object",
              "properties": {
                "connectionUrl": {
                  "type": "string"
                }
              },
              "required": [
                "connectionUrl"
              ]
            },
            "cluster": {
              "type": "object",
              "properties": {
                "connectionUrls": {
                  "type": "array"
                }
              },
              "required": [
                "connectionUrls"
              ]
            },
            "sentinel": {
              "type": "object",
              "properties": {
                "existingSecret": {
                  "type": "string"
                },
                "password": {
                  "type": "string"
                },
                "passwordKey": {
                  "type": "string"
                },
                "masterName": {
                  "type": "string"
                },
                "connectionUrls": {
                  "type": "array"
                }
              },
              "required": [
                "connectionUrls",
                "existingSecret",
                "masterName",
                "password",
                "passwordKey"
              ]
            }
          },
          "required": [
            "clientType",
            "cluster",
            "existingSecret",
            "password",
            "passwordKey",
            "sentinel",
            "standalone"
          ]
        }
      },
      "required": [
        "redis",
        "type"
      ]
    },
    "redis": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        }
      },
      "required": [
        "enabled"
      ]
    },
    "checkDeprecation": {
      "type": "boolean"
    },
    "metrics": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "port": {
          "type": "integer"
        },
        "service": {
          "type": "object",
          "properties": {
            "appProtocol": {
              "type": "string"
            }
          },
          "required": [
            "appProtocol"
          ]
        },
        "serviceMonitor": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "namespace": {
              "type": "string"
            },
            "prometheusInstance": {
              "type": "string"
            },
            "interval": {
              "type": "string"
            },
            "scrapeTimeout": {
              "type": "string"
            },
            "labels": {
              "type": "object"
            },
            "scheme": {
              "type": "string"
            },
            "tlsConfig": {
              "type": "object"
            },
            "bearerTokenFile": {
              "type": "string"
            },
            "annotations": {
              "type": "object"
            },
            "metricRelabelings": {
              "type": "array"
            },
            "relabelings": {
              "type": "array"
            }
          },
          "required": [
            "annotations",
            "bearerTokenFile",
            "enabled",
            "interval",
            "labels",
            "metricRelabelings",
            "namespace",
            "prometheusInstance",
            "relabelings",
            "scheme",
            "scrapeTimeout",
            "tlsConfig"
          ]
        }
      },
      "required": [
        "enabled",
        "port",
        "service",
        "serviceMonitor"
      ]
    },
    "extraObjects": {
      "type": "array"
    }
  },
  "required": [
    "alphaConfig",
    "authenticatedEmailsFile",
    "autoscaling",
    "checkDeprecation",
    "config",
    "customLabels",
    "deploymentAnnotations",
    "enableServiceLinks",
    "envFrom",
    "extraArgs",
    "extraContainers",
    "extraEnv",
    "extraInitContainers",
    "extraObjects",
    "extraVolumeMounts",
    "extraVolumes",
    "global",
    "hostAliases",
    "htpasswdFile",
    "httpScheme",
    "image",
    "imagePullSecrets",
    "ingress",
    "initContainers",
    "kubeVersion",
    "livenessProbe",
    "metrics",
    "namespaceOverride",
    "nodeSelector",
    "podAnnotations",
    "podDisruptionBudget",
    "podLabels",
    "podSecurityContext",
    "priorityClassName",
    "proxyVarsAsSecrets",
    "readinessProbe",
    "redis",
    "replicaCount",
    "resources",
    "revisionHistoryLimit",
    "securityContext",
    "service",
    "serviceAccount",
    "sessionStorage",
    "strategy",
    "tolerations"
  ]
}